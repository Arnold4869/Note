[TOC]

# 05-05 北京软虹科技有限公司

## 1. IO

### 序列化

### 字节流/字符流

## 2\. 反射

### classLoader()方法

## 3\. Servlet

### Service()方法/doGet()方法/doPost()方法

## 4\. 线程

### 同步异步

### 线程池

### 阻塞与死锁

## 5\. 数据库与SQL

### 树形结构放入一张表

# 05-12 北京中科江南信息技术股份有限公司

## 1\. 数据库

### 增删改查基本语句

### Oracle 分页

### 把一个没有主键的表中多余的数据删除

```sql
#1、查找表中多余的重复记录，重复记录是根据单个字段（Id）来判断 ；

select * from 表 where Id in (select Id from 表 group byId having count(Id) > 1)

#2、删除表中多余的重复记录，重复记录是根据单个字段（Id）来判断，只留有rowid最小的记录；　　

DELETE from 表 WHERE (id) IN ( SELECT id FROM 表 GROUP BY id HAVING COUNT(id) > 1) AND ROWID NOT IN (SELECT MIN(ROWID) FROM 表 GROUP BY id HAVING COUNT(*) > 1);

#3、查找表中多余的重复记录（多个字段）；

select * from 表 a where (a.Id,a.seq) in(select Id,seq from 表 group by Id,seq having count(*) > 1)

#4、删除表中多余的重复记录（多个字段），只留有rowid最小的记录；

delete from 表 a where (a.Id,a.seq) in (select Id,seq from 表 group by Id,seq having count(*) > 1) and rowid not in (select min(rowid) from 表 group by Id,seq having count(*)>1)

#5、查找表中多余的重复记录（多个字段），不包含rowid最小的记录；

select * from 表 a where (a.Id,a.seq) in (select Id,seq from 表 group by Id,seq having count(*) > 1) and rowid not in (select min(rowid) from 表 group by Id,seq having count(*)>1)
```

## 2\. 框架

### 框架事务怎么配置

### 上传文件

### solr原理/搜索规则

### PageHelper用法

需要先在 Mybatis 的配置文件 `config.xml` 里配置使用 **PageHelper**

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd">
<configuration>
    <settings>
        <!-- 开启mybaits二级缓存 -->
        <setting name="cacheEnabled" value="true"/>
    </settings>
    <plugins>
        <!-- 添加分页插件（本质为mybatis拦截器） -->
        <plugin interceptor="com.github.pagehelper.PageHelper">
            <!-- 指定方言,指定数据库类型 -->
            <property name="dialect" value="mysql"/>
        </plugin>
    </plugins>
</configuration>
```
然后在需要分页的 ServiceImpl 包下的方法中，进行**声明**就可直接使用，需要返回一个`PageInfo<>`
```java
public class GoodsServiceImpl implements GoodsService {

	@Autowired
	GoodsMapper goodsMapper;

	@Override
	public PageInfo<Goods> findGoodsList(Integer currentPage, Integer pageSize) {
		//分页查询
		PageHelper.startPage(currentPage, pageSize);
		//创建查询对象
		GoodsExample example = new GoodsExample();
		//分页查询
		List<Goods> goodsList = goodsMapper.selectByExample(example);
		return new PageInfo<>(goodsList);
	}
}
```
### redis 立即把数据保存在数据库

```shell
#########保存最新的key值################
redis 10.160.35.86:6379> BGSAVE
Background saving started
##########查看是否保存成功##############
redis 10.160.35.86:6379> LASTSAVE
(integer) 1420367903
##########关闭redis服务器##############
redis-cli -h 10.160.35.86 -p 6379 SHUTDOWN
#########查看Redis的RDB文件###########
[root@web-yv2 ~]# grep "dir" /etc/redis.conf        #查看RDB文件的存放位置
```
### shiro 验证流程
